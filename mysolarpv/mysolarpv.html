<style>
    .visnav {
        margin-right:4px;
        padding-left:8px;
        padding-right:8px;
        min-width:20px;
        background-color:rgba(6,153,250,0.1);
        line-height:28px;
        float:left;
        text-align:center;
    }
    
    .a2 {
        color: #ccc;
        font-size:18px;
        line-height:22px;
    }
    
    h2 {
        color:#fff;
    }
</style>
    
<div class="container">

<div id="mysolar-setup" style="display:none; padding-top:50px" class="block">

<h2 style="color:#dccc1f">My Solar</h2>

<p class="a2">The My Solar app can be used to explore onsite solar generation, self consumption, export and building consumption both in realtime with a moving power graph view and historically with a daily and monthly bargraph.</p>

<p class="a2">This app can auto-configure connecting to emoncms feeds with the following names:</p>

<ul class="a2">
    <li><b>solar</b> - solar pv generation in watts</li>
    <li><b>use</b> - house or building consumption in watts</li>
    <li><b>export</b> - exported solar in watts</li>
    <li><b>solar_kwh</b> - cumulative solar generation in kWh</li>
    <li><b>use_kwh</b> - cumulative consumption in kWh</li>
    <li><b>export_kwh</b> - cumulative exported solar in kWh</li>
</ul>

<p class="a2">Cumulative kWh feeds can be generated from power feeds with the power_to_kwh input processor</p>

<p class="a2">Please configure emoncms with these feeds and refresh to continue</p>

</div>
    
<div id="mysolar-block" style="display:none" class="block">

    <div style="height:20px; border-bottom:1px solid #333; padding:8px;">
        <div style="float:right;">
            <!--<span style="color:#fff; margin-right:10px" >Settings</span>
            <i id="mysolarpv-openconfig" class="icon-wrench icon-white" style="cursor:pointer"></i>-->
        </div>
    </div>

    <table style="width:100%">
    <tr>
        <td style="border:0; width:33%">
            <div class="electric-title">POWER NOW</div>
            <div class="power-value"><span id="usenow">0</span>W</div>
        </td>
        <td style="text-align:center; border:0; width:33%">
            <div class="electric-title"><span id="balance-label"></span></div>
            <div class="power-value"><span id="balance"></span></div>
        </td>
        <td style="text-align:right; border:0; width:33%">
            <div class="electric-title">SOLAR PV</div>
            <div class="power-value" style="color:#dccc1f"><span id="solarnow">0</span>W</div>
        </td>
        
    </tr>
    </table>
    <br>
    


    <div class="visnavblock" style="height:28px; padding-bottom:5px;">
        <div id="powergraph-navigation">
            <span class='visnav time' time='1'>1h</span>
            <span class='visnav time' time='8'>8h</span>
            <span class='visnav time' time='24'>D</span>
            <span id='vistimeW' class='visnav time' time='168'>W</span>
            <span id='vistimeM' class='visnav time' time='720'>M</span>
            <span id='vistimeY' class='visnav time' time='8760'>Y</span>
            <span id='mysolarpv_zoomin' class='visnav' >+</span>
            <span id='mysolarpv_zoomout' class='visnav' >-</span>
            <span id='mysolarpv_left' class='visnav' ><</span>
            <span id='mysolarpv_right' class='visnav' >></span>
        </div>
        
        <div id="bargraph-navigation" style="display:none">
            <span id="bargraph-viewall" class="visnav" style="font-size:14px">VIEW ALL</span>
            <span id="bargraph-viewdaily" class="visnav" style="font-size:14px">DAILY</span>
            <span id="bargraph-viewmonthly" class="visnav" style="font-size:14px">MONTHLY</span>
            <span id="bargraph-viewannually" class="visnav" style="font-size:14px">ANNUALLY</span>
        </div>
        
        <span id='viewhistory' class='visnav' style="float:right; font-size:14px">VIEW HISTORY</span>
        <span id='balanceline' class='visnav' style="float:right; font-size:14px">SHOW BALANCE</span>
    </div>

    <div id="mysolarpv_placeholder_bound" style="width:100%; height:500px;">
        <div id="mysolarpv_placeholder" style="height:500px"></div>
    </div>
    
    <br>
    
    <style>
    
    
        .appbox {
            width:20%;
            text-align:center;
            padding:10px;
            vertical-align:top;
            
        }
        
        .appbox-title {
            color: #aaa;
            font-weight:bold;
            font-size:20px;
            padding-bottom:15px;
        }
        
        .appbox-value {
            color: #fff;
            font-weight:bold;
            font-size:36px;
        }
        
        .appbox-units {
            color: #fff;
            font-weight:bold;
            font-size:16px;
        }
    </style>
    
    <table style="width:100%">
    <tr>
        <td class="appbox">
            <div class="appbox-title">HOUSE</div>
            <div><span class="appbox-value" id="total_use_kwh" style="color:#0699fa">0</span> <span class="appbox-units" style="color:#0699fa">kWh</span></div>
        </td>
        
        <td class="appbox">
            <div class="appbox-title">SOLAR</div>
            <div><span class="appbox-value" id="total_solar_kwh" style="color:#dccc1f">0</span> <span class="appbox-units" style="color:#dccc1f">kWh</span></div>
        </td>
        
        <td class="appbox">
            <div class="appbox-title">DIRECT</div>
            <div style="padding-bottom:5px"><span class="appbox-value" id="total_use_direct_prc" style="color:#2ed52e">0</span></div>
            <div><span class="appbox-units" id="total_use_direct_kwh" style="color:#2ed52e">0</span> <span class="appbox-units" style="color:#2ed52e">kWh</span></div>
        </td>
        
       <td class="appbox">
            <div class="appbox-title">EXPORT</div>
            <div style="padding-bottom:5px"><span class="appbox-value" id="total_export_prc" style="color:#2ed52e">0</span></div>
            <div><span class="appbox-units" id="total_export_kwh" style="color:#2ed52e">0</span> <span class="appbox-units" style="color:#2ed52e">kWh</span></div>
        </td>
        
        <td class="appbox">
            <div class="appbox-title">GRID</div>
            <div style="padding-bottom:5px"><span class="appbox-value" id="total_import_prc" style="color:#d52e2e">0</span></div>
            <div><span class="appbox-units" id="total_import_kwh" style="color:#d52e2e">0</span> <span class="appbox-units" style="color:#d52e2e">kWh</span></div>
        </td>
    </tr>
    </table>

</div>
</div>
